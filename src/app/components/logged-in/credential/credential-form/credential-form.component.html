<!--
  ~ Copyright 2021 Bundesrepublik Deutschland
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<form [formGroup]="credentialForm" (ngSubmit)="submit()">
  <div *ngIf="credentialForm.get('firstName'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="first-name" class="bx--label">
      {{"credential-form-component.first-name" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="first-name"
             maxlength="50"
             formControlName="firstName"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.first-name' | translate}}"
             required
             appAutofocus
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-first-name-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.first-name" | translate}}
      </div>
      <div id="error-first-name-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.first-name" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-first-name-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.first-name" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('lastName'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="last-name" class="bx--label">
      {{"credential-form-component.last-name" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="last-name"
             maxlength="50"
             formControlName="lastName"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.last-name' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-last-name-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.last-name" | translate}}
      </div>
      <div id="error-last-name-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.last-name" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-last-name-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.last-name" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('email'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="email" class="bx--label">
      {{"credential-form-component.email" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="email"
             maxlength="128"
             formControlName="email"
             type="email"
             class="bx--text-input"
             placeholder="{{'credential-form-component.email' | translate}}"
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-email-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.email" | translate}}
      </div>
      <div id="error-email-invalid" [hidden]="!formControl.hasError('email')">
        {{"credential-form-component.error.format.email" | translate}}
      </div>
      <div id="error-email-max-size-exceeded" [hidden]="!formControl.hasError('emailMaxLength')">
        {{"credential-form-component.error.size.email" | translate: {number: "64"} }}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('id'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="id" class="bx--label">
      {{"credential-form-component.id" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="id"
             formControlName="id"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.id' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-id-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.id" | translate}}
      </div>
      <div id="error-id-not-unique" [hidden]="!formControl.hasError('not-unique')">
        {{"credential-form-component.error.not-unique.id" | translate}}
      </div>
      <div id="error-id-invitation-already-accepted" [hidden]="!formControl.hasError('invitation-already-accepted')">
        {{"credential-form-component.error.invitation-already-accepted" | translate}}
      </div>
      <div id="error-id-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.id" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-id-contains-id-forbidden-characters" [hidden]="!formControl.hasError('idContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.id" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('companyName'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="company-name" class="bx--label">
      {{"credential-form-component.company-name" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="company-name"
             maxlength="100"
             formControlName="companyName"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.company-name' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-company-name-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.company-name" | translate}}
      </div>
      <div id="error-company-name-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.company-name" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-company-name-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.company-name" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('companySubject'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="company-subject" class="bx--label">
      {{"credential-form-component.company-subject" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="company-subject"
             maxlength="50"
             formControlName="companySubject"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.company-subject' | translate}}"
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-company-subject-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.company-subject" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-company-subject-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.company-subject" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('companyAddress'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="company-address" class="bx--label">
      {{"credential-form-component.company-address" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="company-address"
             maxlength="50"
             formControlName="companyAddress"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.company-address' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-company-address-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.company-address" | translate}}
      </div>
      <div id="error-company-address-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.company-address" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-company-address-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.company-address" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('companyZipCode'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="company-zip-code" class="bx--label">
      {{"credential-form-component.company-zip-code" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="company-zip-code"
             maxlength="50"
             formControlName="companyZipCode"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.company-zip-code' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-company-zip-code-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.company-zip-code" | translate}}
      </div>
      <div id="error-company-zip-code-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.company-zip-code" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-company-zip-code-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.company-zip-code" | translate}}
      </div>
    </div>
  </div>
  <div *ngIf="credentialForm.get('companyCity'); let formControl"
       data-text-input
       class="bx--form-item bx--text-input-wrapper space-mb-6">
    <label for="company-city" class="bx--label">
      {{"credential-form-component.company-city" | translate}}
    </label>
    <div [attr.data-invalid]="formValidator.isFormControlInvalidAfterTouch(formControl)"
         class="bx--text-input__field-wrapper">
      <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)">
        <svg ibmIconWarningFilled class="bx--text-input__invalid-icon" size="16"></svg>
      </div>
      <input id="company-city"
             maxlength="50"
             formControlName="companyCity"
             type="text"
             class="bx--text-input"
             placeholder="{{'credential-form-component.company-city' | translate}}"
             required
             [ngClass]="{'bx--text-input--invalid': formValidator.isFormControlInvalidAfterTouch(formControl)}">
    </div>
    <div *ngIf="formValidator.isFormControlInvalidAfterTouch(formControl)" class="bx--form-requirement">
      <div id="error-company-city-field-is-required" [hidden]="!formControl.hasError('required')">
        {{"credential-form-component.error.required.company-city" | translate}}
      </div>
      <div id="error-company-city-max-size-exceeded" [hidden]="!formControl.hasError('maxlength')">
        {{"credential-form-component.error.size.company-city" | translate: {number: formControl.errors?.maxlength?.requiredLength} }}
      </div>
      <div id="error-company-city-contains-string-forbidden-characters" [hidden]="!formControl.hasError('fieldContainsForbiddenCharacters')">
        {{"credential-form-component.error.forbidden-characters.company-city" | translate}}
      </div>
    </div>
  </div>
  <div ibmRow>
    <div class="bx--col">
      <button class="bx--btn bx--btn--secondary full-width"
              id="create-employee-discard-button"
              type="button"
              (click)="discard()">
        {{"credential-form-component.button.discard" | translate}}
      </button>
    </div>
    <div class="bx--col">
      <button class="bx--btn bx--btn--primary full-width"
              id="create-employee-submit-button"
              type="submit"
              [disabled]="credentialForm.invalid">
        {{"credential-form-component.button.submit" | translate}}
      </button>
    </div>
  </div>
</form>
